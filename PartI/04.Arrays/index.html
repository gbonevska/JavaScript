<html>
<head>
	<title>arrays-hw</title>
	<link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
	<div id="js-console"></div>
	<script src="scripts/js-console.js"></script>
	<script>
	
		jsConsole.writeLine("----------------------------------------------------");
		jsConsole.writeLine("01. Write a script that allocates array of 20 integers and ");
		jsConsole.writeLine(" initializes each element by its index multiplied by 5. ");
		jsConsole.writeLine(" Print the obtained array on the console.");
		jsConsole.writeLine();
		
		var n = 20;
		var arr = new Array(n);
		jsConsole.writeLine("n = " + n);
		for(var i = 0; i <= n-1; i++)
		{
			arr[i] = (i * 5);
			jsConsole.writeLine("arr[" + i + "] = " + arr[i]);
			console.log(arr[i]);
		}
		 
		jsConsole.writeLine();
	    jsConsole.writeLine("----------------------------------------------------");
    	jsConsole.writeLine();
		
		jsConsole.writeLine("02. Write a script that compares two char arrays lexicographically ");
        jsConsole.writeLine(" (letter by letter).");
	    jsConsole.writeLine();
		
		var charArr1 = "Ami";
		var charArr2 = "Rori";
		jsConsole.writeLine("arr1= " + charArr1);
		jsConsole.writeLine("arr2= " + charArr2);
		
		var length = 0;
		if (charArr1.length > charArr2.length)
		{
			length = charArr1.length
		}
		else
		{
			length = charArr2.length;
		}
			
		jsConsole.writeLine("length = " + length);
		jsConsole.writeLine("charArr1.length= " + charArr1.length);
		
		var arr1 = 0, arr2 = 0;
		for(var i = 0; i <= length; i++)
		{
		    if(charArr1[i] > charArr2[i])
			{
				arr1 += 1;
			}
			else
			{
				arr2 += 1;
			}
		}
		
		if(arr1 > arr2)
		{
			jsConsole.writeLine("The first array is lexicographically the first");
		}
		else
		{
			jsConsole.writeLine("The second array is lexicographically the first");
		}
		
		jsConsole.writeLine();
	    jsConsole.writeLine("----------------------------------------------------");
        jsConsole.writeLine();
		
		jsConsole.writeLine("03. Write a script that finds the maximal sequence ");
		jsConsole.writeLine(" of equal elements in an array.");
		jsConsole.writeLine(" Example: {2, 1, 1, 2, 3, 3, 2, 2, 2, 1} => {2, 2, 2}.");
	    jsConsole.writeLine();
			
	    var indexOfFirstElement = 0, maxLenghtIndex = 0, maxLenght = 1, currentLenght = 1;

        
        var checkedArray = [2, 1, 1, 2, 3, 3, 2, 2, 2, 1];
        
        for (var i = 1; i < checkedArray.length; i++)
        {
            if (checkedArray[i] != checkedArray[i-1])
            {
                currentLenght = 1;
            }
            else
            {
                if (currentLenght == 1)
                {
                    indexOfFirstElement = i-1;
                }
                currentLenght++;
            }
            if (currentLenght > maxLenght)
            {
                maxLenght = currentLenght;
                maxLenghtIndex = indexOfFirstElement;
            }
        }

        if ((indexOfFirstElement != 0) && (maxLenght != 0))
        {
            var output = '';
			jsConsole.writeLine("Sequence of equal elements is:");
            for (var i = 0; i < maxLenght; i++)
            {
                output = output + ' ' +(checkedArray[i + maxLenghtIndex]);
            }
			
			jsConsole.writeLine(output);
        }
		 
		jsConsole.writeLine();
	    jsConsole.writeLine("----------------------------------------------------");
        jsConsole.writeLine();
		
		jsConsole.writeLine("04. Write a script that finds the maximal increasing sequence in an array.");
		jsConsole.writeLine("Example: {3, 2, 3, 4, 2, 2, 4} -> {2, 3, 4}.");
		jsConsole.writeLine();
   
        var checkedArray = [3, 2, 3, 4, 2, 2, 4];
        var indexOfFirstElement = 0, maxLenghtIndex = 0, maxLenght = 1, currentLenght = 1;
		
        for (var i = 1; i < checkedArray.length; i++)
        {
            if (checkedArray[i] < checkedArray[i-1])
            {
                currentLenght = 1;
            }
            else
            {
                if (currentLenght == 1)
                {
                    indexOfFirstElement = i-1;
                }
                currentLenght++;
            }
            if (currentLenght > maxLenght)
            {
                maxLenght = currentLenght;
                maxLenghtIndex = indexOfFirstElement;
            }
        }

        if ((indexOfFirstElement != 0) && (maxLenght != 0))
        {
            var output = '';
			jsConsole.writeLine("Sequence of equal elements is:");
            for (var i = 0; i < maxLenght; i++)
            {
                output = output + ' ' +(checkedArray[i + maxLenghtIndex]);
            }
			
			jsConsole.writeLine(output);
        }
		
	    jsConsole.writeLine();
	    jsConsole.writeLine("----------------------------------------------------");
	
		jsConsole.writeLine();
	    jsConsole.writeLine("05. Sorting an array means to arrange its elements in increasing order. ");
		jsConsole.writeLine(" Write a script to sort an array. Use the 'selection sort' algorithm: ");
		jsConsole.writeLine(" Find the smallest element, move it at the first position, find the");
		jsConsole.writeLine(" smallest from the rest, move it at the second position, etc.");
		jsConsole.writeLine(" Hint: Use a second array   ");
		jsConsole.writeLine();

		var unsortArray = [2, 1, 1, 2, 3, 3, 2, 2, 2, 1];
        var smallestElement = 0, tempSwitch = 0;
        
		for (var i = 0; i < unsortArray.length; i++)
        {
            smallestElement = i;
            for (var j = i; j < unsortArray.length; j++)
            {
                if (unsortArray[smallestElement] > unsortArray[j])
                {
                    smallestElement = j;
                }
            }
            tempSwitch = unsortArray[i];
            unsortArray[i] = unsortArray[smallestElement];
            unsortArray[smallestElement] = tempSwitch;
        }

        jsConsole.writeLine();
    	var output = '';
		jsConsole.writeLine("Sort array is:");
		for (var i = 0; i < unsortArray.length; i++)
		{
			output = output + ' ' +(unsortArray[i]);
		}
        jsConsole.writeLine(output);
		
	    jsConsole.writeLine();
	    jsConsole.writeLine("----------------------------------------------------");
		
		jsConsole.writeLine("06. Write a program that finds the most frequent number in an array.");
		jsConsole.writeLine(" Example: {4, 1, 1, 4, 2, 3, 4, 4, 1, 2, 4, 9, 3} => 4 (5 times)");
		jsConsole.writeLine();

		var mostFrequentAmount = 0, mostFrequentIndex = 0;
        var mainArray = [4, 1, 1, 4, 2, 3, 4, 4, 1, 2, 4, 9, 3];
        var frequentNumbersArray = new Array();

		// initialize with 0
		for (var i = 0; i < mainArray.length; i++)
        {
		    frequentNumbersArray[i] = 0;
        }
		
	    for (var i = 0; i < mainArray.length; i++)
        {
		    frequentNumbersArray[mainArray[i]]++;
        }

        for (var i = 0; i < frequentNumbersArray.length; i++)
        {
			if (mostFrequentAmount < frequentNumbersArray[i])
            {
                mostFrequentAmount = frequentNumbersArray[i];
                mostFrequentIndex = i;
            }
        }
        jsConsole.writeLine("The most frequent number in an array is " + mostFrequentIndex + " (" + mostFrequentAmount + " times)");
	
		jsConsole.writeLine();
	    jsConsole.writeLine("----------------------------------------------------");
	    
		jsConsole.writeLine();
		jsConsole.writeLine("07.Write a program that finds the index of given element ");
		jsConsole.writeLine(" in a sorted array of integers by using the binary search ");
		jsConsole.writeLine(" algorithm (find it in Wikipedia)");
	  
		var arrayInt = [4, 1, 1, 4, 2, 3, 4, 4, 1, 2, 4, 9, 3];
		
		var output = '';
		for (var i = 0; i < arrayInt.length; i++)
        {
		    output = output + arrayInt[i] + ' ';
        }
		jsConsole.writeLine("The initial array is: " + output);
		
		arrayInt = arrayInt.sort(function (a, b) { return a - b })
		
		var output = '';
		for (var i = 0; i < arrayInt.length; i++)
        {
		    output = output + arrayInt[i] + ' ';
        }
		jsConsole.writeLine("The sort array is: " + output);		
		
		var imax = arrayInt.length - 1;
		var imin = 0;
		var middle = Math.floor(arrayInt.length / 2);
		var key = 2;
		jsConsole.writeLine("I search for number " + key + " in that array.");
		var result;   
		while (true) {

			if(key < arrayInt[middle])
			{
				imax = middle;
				middle = Math.floor((imin + imax) / 2);
			}
			else if (key > arrayInt[middle]) {
				imin = middle;
				middle = Math.floor((imin + imax) / 2);
			}
			else
			{
				result = middle;
				break;
			}
			if (imin == imax) {
				result = imin;
				break;
			}
		   else if (key == arrayInt[imin]) {
			   result = imin;
			   break;
		   }
		   else if (key == arrayInt[imax]) {
			   result = imax;
			   break;
		   }
		}
	      
		jsConsole.writeLine("The element " + key + " is found in index " + result);  
	 	jsConsole.writeLine();
	    jsConsole.writeLine("----------------------------------------------------");
		jsConsole.writeLine();
	</script>
</body>
</html>
